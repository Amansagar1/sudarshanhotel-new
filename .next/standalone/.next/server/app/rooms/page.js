(()=>{var e={};e.id=497,e.ids=[497],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},2412:e=>{"use strict";e.exports=require("assert")},4735:e=>{"use strict";e.exports=require("events")},9021:e=>{"use strict";e.exports=require("fs")},1630:e=>{"use strict";e.exports=require("http")},5591:e=>{"use strict";e.exports=require("https")},1820:e=>{"use strict";e.exports=require("os")},3873:e=>{"use strict";e.exports=require("path")},7910:e=>{"use strict";e.exports=require("stream")},3997:e=>{"use strict";e.exports=require("tty")},9551:e=>{"use strict";e.exports=require("url")},8354:e=>{"use strict";e.exports=require("util")},4075:e=>{"use strict";e.exports=require("zlib")},2506:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>c});var r=t(260),a=t(8203),l=t(5155),i=t.n(l),o=t(7292),n={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);t.d(s,n);let c=["",{children:["rooms",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5580)),"D:\\private work\\sudarshanhotel-new\\src\\app\\rooms\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,1354)),"D:\\private work\\sudarshanhotel-new\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9937,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["D:\\private work\\sudarshanhotel-new\\src\\app\\rooms\\page.js"],m={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/rooms/page",pathname:"/rooms",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7191:(e,s,t)=>{Promise.resolve().then(t.bind(t,5580))},7455:(e,s,t)=>{Promise.resolve().then(t.bind(t,608))},4733:(e,s,t)=>{"use strict";t.d(s,{G_:()=>i,Sx:()=>o,R4:()=>n});var r=t(5668);let a="http://hotelsudarshan.com:5000",l={GET_ROOMSDETAILS:()=>a+"/api/roomdetails",BOOKING_ROOMS:()=>a+"/api/book",POST_ROOMS:()=>a+"/api/rooms",GET_ROOMID:e=>a+`/api/rooms/:${e} `};Object.freeze(l);let i=()=>{let e=l.GET_ROOMSDETAILS();return console.log("Requesting URL:",e),r.A.get(e).then(e=>(console.log("API Response:",e.data),{result:e.data})).catch(e=>(console.error("Error details:",{message:e.message,code:e.code,config:e.config,response:e.response}),{result:null}))},o=e=>r.A.get(`${l.GET_ROOMSDETAILS()}/${e}`).then(e=>(console.log("API Response:",e.data),{result:e.data})).catch(e=>(console.error("Error fetching room data:",e),{result:null})),n=async e=>{try{let s=await fetch(l.BOOKING_ROOMS(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw Error("Booking failed");return await s.json()}catch(e){throw console.error("Error in roomBooking:",e),e}}},608:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var r=t(5512),a=t(8009),l=t(4733);let i=({filters:e,toggleFilter:s})=>(0,r.jsxs)("aside",{className:"p-4 bg-gray-100 w-full ",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Filter by"}),Object.keys(e).map(t=>(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg capitalize",children:t}),(0,r.jsx)("ul",{className:"space-y-2 mt-2",children:Object.keys(e[t]).map(a=>(0,r.jsx)("li",{children:(0,r.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:e[t][a],onChange:()=>s(t,a),className:"form-checkbox"}),(0,r.jsx)("span",{className:"capitalize",children:a.replace(/([A-Z])/g," $1").toLowerCase()})]})},a))})]},t))]});var o=t(6008);let n=({title:e,backgroundImage:s})=>(0,r.jsxs)("div",{className:"relative bg-cover bg-center h-[400px] flex items-center justify-center text-center text-white",style:{backgroundImage:`url(${s})`},children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50"}),(0,r.jsxs)("div",{className:"relative z-10 w-full max-w-5xl mx-auto p-4",children:[(0,r.jsx)("h1",{className:"text-4xl md:text-5xl font-extrabold leading-tight",children:e}),(0,r.jsxs)("div",{className:"text-lg mt-4  ",children:[(0,r.jsx)(o.default,{href:"/",className:"hover:underline",children:"Home /"}),(0,r.jsx)("span",{className:"text-lg mt-2 pl-2",children:(0,r.jsx)(o.default,{href:"/rooms",className:"hover:underline",children:"Rooms & Suites"})})]})]})]});var c=t(5103);let d=({room:e})=>(0,r.jsxs)("div",{className:"bg-white shadow-lg rounded-md overflow-hidden flex flex-col group relative",children:[(0,r.jsx)(c.default,{src:e.image||"/images/img1.jpg",alt:e.title,width:500,height:300,className:"w-full h-[200px] object-cover"}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"text-xl font-semibold flex justify-between items-center",children:[e.title,(0,r.jsx)("span",{className:`text-xs px-2 py-1 rounded-full ${e.available?"bg-green-500":"bg-red-500"} text-white`,children:e.available?"Available":"Booked"})]}),(0,r.jsx)("p",{className:"text-yellow-500 mt-2",children:Array(e.rating).fill("â˜…").join("")}),(0,r.jsxs)("div",{className:"text-sm flex flex-col gap-2 mt-2",children:[(0,r.jsxs)("div",{className:"truncate flex gap-2",children:[(0,r.jsx)("h1",{className:"font-semibold",children:"Description :"}),(0,r.jsx)("h1",{children:e.description})]}),(0,r.jsxs)("div",{className:"truncate flex gap-2",children:[(0,r.jsx)("h1",{className:"font-semibold",children:"Size :"}),(0,r.jsx)("h1",{children:`${e.size} sq ft`})]}),(0,r.jsxs)("div",{className:"truncate flex gap-2",children:[(0,r.jsx)("h1",{className:"font-semibold",children:"Max Occupancy :"}),(0,r.jsx)("h1",{children:e.maxOccupancy})]}),(0,r.jsxs)("div",{className:"truncate flex gap-2",children:[(0,r.jsx)("h1",{className:"font-semibold",children:"Bed Type :"}),(0,r.jsx)("h1",{children:e.bedType})]}),(0,r.jsxs)("div",{className:"truncate flex gap-2",children:[(0,r.jsx)("h1",{className:"font-semibold",children:"Features :"}),(0,r.jsx)("h1",{children:e.features.join(", ")})]})]}),(0,r.jsxs)("div",{className:"absolute bottom-16 left-0 bg-black bg-opacity-80 w-full p-6 text-white z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,r.jsxs)("div",{className:"font-bold pb-5",children:["Title: ",(0,r.jsx)("h1",{className:"text-[14px]",children:e.title})]}),(0,r.jsxs)("div",{className:"font-bold pb-5",children:["Description: ",(0,r.jsx)("h1",{className:"text-[14px]",children:e.description})]}),(0,r.jsx)("h4",{className:"font-semibold",children:"Room Details:"}),(0,r.jsxs)("ul",{className:"list-disc ml-5 text-white",children:[(0,r.jsxs)("li",{children:["Size: ",e.size," sq ft"]}),(0,r.jsxs)("li",{children:["Maximum Occupancy: ",e.maxOccupancy]}),(0,r.jsxs)("li",{children:["Bed Type: ",e.bedType]}),(0,r.jsxs)("li",{children:["Features: ",e.features.join(", ")]})]})]}),(0,r.jsx)(o.default,{href:`/rooms/${e._id}`,className:"block mt-4 text-center bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600",children:"View Room"})]})]}),m=()=>{let[e,s]=(0,a.useState)([]),[t,o]=(0,a.useState)([]),[c,m]=(0,a.useState)({size:{small:!1,medium:!1,large:!1},occupancy:{single:!1,double:!1,family:!1},propertyType:{hotels:!1,homestays:!1},amenities:{airConditioning:!1,housekeeping:!1,wifi:!1,intercom:!1,smartTv:!1,fan:!1,geyser:!1,toiletries:!1,hotColdWater:!1,coffeeKettle:!1,sofa:!1,safety:!1,breakfast:!1},availability:{available:!1,booked:!1},rating:{oneStar:!1,twoStars:!1,threeStars:!1,fourStars:!1,fiveStars:!1}}),[p,u]=(0,a.useState)(null),[x,h]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(async()=>{try{let e=await (0,l.G_)();if(e?.result&&Array.isArray(e.result)){let t=e.result.map(e=>({...e,size:e.title.includes("Deluxe")?150:e.title.includes("Super Deluxe")?180:e.title.includes("Family")?250:0,maxOccupancy:e.title.includes("Family")?4:e.title.includes("Super Deluxe")?3:2,bedType:e.title.includes("Family")?"1 double bed + 1 single bed":"1 double bed"}));s(t),o(t)}else u("Failed to fetch rooms data.")}catch(e){console.error(e),u("Error fetching rooms data.")}finally{h(!1)}})()},[]),(0,a.useEffect)(()=>{(()=>{let s=[...e],{size:t,occupancy:r,propertyType:a,availability:l,rating:i,amenities:n}=c;t.small&&(s=s.filter(e=>e.size<=180)),t.medium&&(s=s.filter(e=>e.size>180&&e.size<=250)),t.large&&(s=s.filter(e=>e.size>250)),r.single&&(s=s.filter(e=>1===e.maxOccupancy)),r.double&&(s=s.filter(e=>2===e.maxOccupancy)),r.family&&(s=s.filter(e=>e.maxOccupancy>=4)),a.hotels&&(s=s.filter(e=>"Hotel"===e.propertyType)),a.homestays&&(s=s.filter(e=>"Homestay"===e.propertyType)),l.available&&(s=s.filter(e=>!0===e.available)),l.booked&&(s=s.filter(e=>!1===e.available)),i.oneStar&&(s=s.filter(e=>1===e.rating)),i.twoStars&&(s=s.filter(e=>2===e.rating)),i.threeStars&&(s=s.filter(e=>3===e.rating)),i.fourStars&&(s=s.filter(e=>4===e.rating)),i.fiveStars&&(s=s.filter(e=>5===e.rating)),Object.keys(n).forEach(e=>{n[e]&&(s=s.filter(s=>s.features.includes(e)))}),o(s)})()},[c,e]),x||p)?(0,r.jsxs)("div",{children:[(0,r.jsx)(n,{title:"Rooms & Suites",backgroundImage:"/images/img2.jpg"}),(0,r.jsxs)("div",{className:"flex flex-wrap p-5",children:[(0,r.jsx)("div",{className:"w-full md:w-1/ p-4",children:(0,r.jsxs)("div",{className:"bg-gray-200 p-4 rounded-lg animate-pulse",children:[(0,r.jsx)("div",{className:"h-8 bg-gray-300 rounded mb-4"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("div",{className:"h-6 bg-gray-300 rounded"}),(0,r.jsx)("div",{className:"h-6 bg-gray-300 rounded"}),(0,r.jsx)("div",{className:"h-6 bg-gray-300 rounded"})]})]})}),(0,r.jsxs)("main",{className:"w-full md:w-3/4 p-6",children:[(0,r.jsx)("h2",{className:"text-3xl font-semibold mb-6",children:x?"Loading Rooms...":"Error Loading Rooms"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(6).fill(0).map((e,s)=>(0,r.jsxs)("div",{className:"bg-white shadow-lg rounded-md overflow-hidden flex flex-col group relative animate-pulse",children:[(0,r.jsx)("div",{className:"bg-gray-200 h-[200px] w-full"}),(0,r.jsxs)("div",{className:"p-4 space-y-3",children:[(0,r.jsx)("div",{className:"h-6 bg-gray-300 rounded"}),(0,r.jsx)("div",{className:"h-6 bg-gray-300 rounded w-24"}),(0,r.jsx)("div",{className:"h-8 bg-gray-300 rounded mt-4"})]})]},s))})]})]})]}):(0,r.jsxs)("div",{children:[(0,r.jsx)(n,{title:"Rooms & Suites",backgroundImage:"/images/img2.jpg"}),(0,r.jsxs)("div",{className:"flex flex-wrap p-5",children:[(0,r.jsx)("div",{className:"w-full md:w-1/4 p-4",children:(0,r.jsx)(i,{filters:c,toggleFilter:(e,s)=>{m(t=>({...t,[e]:{...t[e],[s]:!t[e][s]}}))}})}),(0,r.jsxs)("main",{className:"w-full md:w-3/4 p-6",children:[(0,r.jsx)("h2",{className:"text-3xl font-semibold mb-6",children:"Available Rooms"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.length>0?t.map(e=>(0,r.jsx)(d,{room:e},e._id)):(0,r.jsx)("div",{className:"col-span-full text-center text-gray-600",children:"No rooms available."})})]})]})]})}},5580:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\private work\\\\sudarshanhotel-new\\\\src\\\\app\\\\rooms\\\\page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\private work\\sudarshanhotel-new\\src\\app\\rooms\\page.js","default")},440:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var r=t(8077);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[989,601,77,668,691],()=>t(2506));module.exports=r})();