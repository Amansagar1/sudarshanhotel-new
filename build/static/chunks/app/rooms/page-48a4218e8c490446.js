(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[497],{4601:(e,s,l)=>{Promise.resolve().then(l.bind(l,6104))},837:(e,s,l)=>{"use strict";l.d(s,{G_:()=>i,Sx:()=>r,R4:()=>c});var a=l(2651);let t={GET_ROOMS:()=>"http://localhost:5000/api/rooms",GET_ROOMSDETAILS:()=>"http://localhost:5000/api/roomdetails",BOOKING_ROOMS:()=>"http://localhost:5000/api/book",POST_ROOMS:()=>"http://localhost:5000/api/rooms",GET_ROOMID:e=>" http://localhost:5000/api/rooms/:".concat(e," ")};Object.freeze(t);let i=()=>{let e=t.GET_ROOMSDETAILS();return console.log("Requesting URL:",e),a.A.get(e).then(e=>(console.log("API Response:",e.data),{result:e.data})).catch(e=>(console.error("Error details:",{message:e.message,code:e.code,config:e.config,response:e.response}),{result:null}))},r=e=>a.A.get("".concat(t.GET_ROOMSDETAILS(),"/").concat(e)).then(e=>(console.log("API Response:",e.data),{result:e.data})).catch(e=>(console.error("Error fetching room data:",e),{result:null})),c=async e=>{try{let s=await fetch(t.BOOKING_ROOMS(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw Error("Booking failed");return await s.json()}catch(e){throw console.error("Error in roomBooking:",e),e}}},6104:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>m});var a=l(5155),t=l(2115),i=l(837);let r=e=>{let{filters:s,toggleFilter:l}=e;return(0,a.jsxs)("aside",{className:"p-4 bg-gray-100 w-full ",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Filter by"}),Object.keys(s).map(e=>(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg capitalize",children:e}),(0,a.jsx)("ul",{className:"space-y-2 mt-2",children:Object.keys(s[e]).map(t=>(0,a.jsx)("li",{children:(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:s[e][t],onChange:()=>l(e,t),className:"form-checkbox"}),(0,a.jsx)("span",{className:"capitalize",children:t.replace(/([A-Z])/g," $1").toLowerCase()})]})},t))})]},e))]})};var c=l(7396);let o=e=>{let{title:s,backgroundImage:l}=e;return(0,a.jsxs)("div",{className:"relative bg-cover bg-center h-[400px] flex items-center justify-center text-center text-white",style:{backgroundImage:"url(".concat(l,")")},children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50"}),(0,a.jsxs)("div",{className:"relative z-10 w-full max-w-5xl mx-auto p-4",children:[(0,a.jsx)("h1",{className:"text-4xl md:text-5xl font-extrabold leading-tight",children:s}),(0,a.jsxs)("div",{className:"text-lg mt-4  ",children:[(0,a.jsx)(c.default,{href:"/",className:"hover:underline",children:"Home /"}),(0,a.jsx)("span",{className:"text-lg mt-2 pl-2",children:(0,a.jsx)(c.default,{href:"/rooms",className:"hover:underline",children:"Rooms & Suites"})})]})]})]})};var d=l(5565);let n=e=>{let{room:s}=e;return(0,a.jsxs)("div",{className:"bg-white shadow-lg rounded-md overflow-hidden flex flex-col group relative",children:[(0,a.jsx)(d.default,{src:s.image||"/images/img1.jpg",alt:s.title,width:500,height:300,className:"w-full h-[200px] object-cover"}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"text-xl font-semibold flex justify-between items-center",children:[s.title,(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(s.available?"bg-green-500":"bg-red-500"," text-white"),children:s.available?"Available":"Booked"})]}),(0,a.jsx)("p",{className:"text-yellow-500 mt-2",children:Array(s.rating).fill("â˜…").join("")}),(0,a.jsxs)("div",{className:"text-sm flex flex-col gap-2 mt-2",children:[(0,a.jsxs)("div",{className:"truncate flex gap-2",children:[(0,a.jsx)("h1",{className:"font-semibold",children:"Description :"}),(0,a.jsx)("h1",{children:s.description})]}),(0,a.jsxs)("div",{className:"truncate flex gap-2",children:[(0,a.jsx)("h1",{className:"font-semibold",children:"Size :"}),(0,a.jsx)("h1",{children:"".concat(s.size," sq ft")})]}),(0,a.jsxs)("div",{className:"truncate flex gap-2",children:[(0,a.jsx)("h1",{className:"font-semibold",children:"Max Occupancy :"}),(0,a.jsx)("h1",{children:s.maxOccupancy})]}),(0,a.jsxs)("div",{className:"truncate flex gap-2",children:[(0,a.jsx)("h1",{className:"font-semibold",children:"Bed Type :"}),(0,a.jsx)("h1",{children:s.bedType})]}),(0,a.jsxs)("div",{className:"truncate flex gap-2",children:[(0,a.jsx)("h1",{className:"font-semibold",children:"Features :"}),(0,a.jsx)("h1",{children:s.features.join(", ")})]})]}),(0,a.jsxs)("div",{className:"absolute bottom-16 left-0 bg-black bg-opacity-80 w-full p-6 text-white z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,a.jsxs)("div",{className:"font-bold pb-5",children:["Title: ",(0,a.jsx)("h1",{className:"text-[14px]",children:s.title})]}),(0,a.jsxs)("div",{className:"font-bold pb-5",children:["Description: ",(0,a.jsx)("h1",{className:"text-[14px]",children:s.description})]}),(0,a.jsx)("h4",{className:"font-semibold",children:"Room Details:"}),(0,a.jsxs)("ul",{className:"list-disc ml-5 text-white",children:[(0,a.jsxs)("li",{children:["Size: ",s.size," sq ft"]}),(0,a.jsxs)("li",{children:["Maximum Occupancy: ",s.maxOccupancy]}),(0,a.jsxs)("li",{children:["Bed Type: ",s.bedType]}),(0,a.jsxs)("li",{children:["Features: ",s.features.join(", ")]})]})]}),(0,a.jsx)(c.default,{href:"/rooms/".concat(s._id),className:"block mt-4 text-center bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600",children:"View Room"})]})]})},m=()=>{let[e,s]=(0,t.useState)([]),[l,c]=(0,t.useState)([]),[d,m]=(0,t.useState)({size:{small:!1,medium:!1,large:!1},occupancy:{single:!1,double:!1,family:!1},propertyType:{hotels:!1,homestays:!1},amenities:{airConditioning:!1,housekeeping:!1,wifi:!1,intercom:!1,smartTv:!1,fan:!1,geyser:!1,toiletries:!1,hotColdWater:!1,coffeeKettle:!1,sofa:!1,safety:!1,breakfast:!1},availability:{available:!1,booked:!1},rating:{oneStar:!1,twoStars:!1,threeStars:!1,fourStars:!1,fiveStars:!1}}),[h,x]=(0,t.useState)(null),[u,g]=(0,t.useState)(!0);return((0,t.useEffect)(()=>{(async()=>{try{let e=await (0,i.G_)();if((null==e?void 0:e.result)&&Array.isArray(e.result)){let l=e.result.map(e=>({...e,size:e.title.includes("Deluxe")?150:e.title.includes("Super Deluxe")?180:e.title.includes("Family")?250:0,maxOccupancy:e.title.includes("Family")?4:e.title.includes("Super Deluxe")?3:2,bedType:e.title.includes("Family")?"1 double bed + 1 single bed":"1 double bed"}));s(l),c(l)}else x("Failed to fetch rooms data.")}catch(e){console.error(e),x("Error fetching rooms data.")}finally{g(!1)}})()},[]),(0,t.useEffect)(()=>{(()=>{let s=[...e],{size:l,occupancy:a,propertyType:t,availability:i,rating:r,amenities:o}=d;l.small&&(s=s.filter(e=>e.size<=180)),l.medium&&(s=s.filter(e=>e.size>180&&e.size<=250)),l.large&&(s=s.filter(e=>e.size>250)),a.single&&(s=s.filter(e=>1===e.maxOccupancy)),a.double&&(s=s.filter(e=>2===e.maxOccupancy)),a.family&&(s=s.filter(e=>e.maxOccupancy>=4)),t.hotels&&(s=s.filter(e=>"Hotel"===e.propertyType)),t.homestays&&(s=s.filter(e=>"Homestay"===e.propertyType)),i.available&&(s=s.filter(e=>!0===e.available)),i.booked&&(s=s.filter(e=>!1===e.available)),r.oneStar&&(s=s.filter(e=>1===e.rating)),r.twoStars&&(s=s.filter(e=>2===e.rating)),r.threeStars&&(s=s.filter(e=>3===e.rating)),r.fourStars&&(s=s.filter(e=>4===e.rating)),r.fiveStars&&(s=s.filter(e=>5===e.rating)),Object.keys(o).forEach(e=>{o[e]&&(s=s.filter(s=>s.features.includes(e)))}),c(s)})()},[d,e]),u||h)?(0,a.jsxs)("div",{children:[(0,a.jsx)(o,{title:"Rooms & Suites",backgroundImage:"/images/img2.jpg"}),(0,a.jsxs)("div",{className:"flex flex-wrap p-5",children:[(0,a.jsx)("div",{className:"w-full md:w-1/ p-4",children:(0,a.jsxs)("div",{className:"bg-gray-200 p-4 rounded-lg animate-pulse",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-300 rounded mb-4"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-300 rounded"}),(0,a.jsx)("div",{className:"h-6 bg-gray-300 rounded"}),(0,a.jsx)("div",{className:"h-6 bg-gray-300 rounded"})]})]})}),(0,a.jsxs)("main",{className:"w-full md:w-3/4 p-6",children:[(0,a.jsx)("h2",{className:"text-3xl font-semibold mb-6",children:u?"Loading Rooms...":"Error Loading Rooms"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(6).fill(0).map((e,s)=>(0,a.jsxs)("div",{className:"bg-white shadow-lg rounded-md overflow-hidden flex flex-col group relative animate-pulse",children:[(0,a.jsx)("div",{className:"bg-gray-200 h-[200px] w-full"}),(0,a.jsxs)("div",{className:"p-4 space-y-3",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-300 rounded"}),(0,a.jsx)("div",{className:"h-6 bg-gray-300 rounded w-24"}),(0,a.jsx)("div",{className:"h-8 bg-gray-300 rounded mt-4"})]})]},s))})]})]})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)(o,{title:"Rooms & Suites",backgroundImage:"/images/img2.jpg"}),(0,a.jsxs)("div",{className:"flex flex-wrap p-5",children:[(0,a.jsx)("div",{className:"w-full md:w-1/4 p-4",children:(0,a.jsx)(r,{filters:d,toggleFilter:(e,s)=>{m(l=>({...l,[e]:{...l[e],[s]:!l[e][s]}}))}})}),(0,a.jsxs)("main",{className:"w-full md:w-3/4 p-6",children:[(0,a.jsx)("h2",{className:"text-3xl font-semibold mb-6",children:"Available Rooms"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.length>0?l.map(e=>(0,a.jsx)(n,{room:e},e._id)):(0,a.jsx)("div",{className:"col-span-full text-center text-gray-600",children:"No rooms available."})})]})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[839,565,604,441,517,358],()=>s(4601)),_N_E=e.O()}]);